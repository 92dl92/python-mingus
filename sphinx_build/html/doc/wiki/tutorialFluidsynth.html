<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Tutorial 1 - Playing Containers with FluidSynth &mdash; mingus 0.5.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.5.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="mingus 0.5.1 documentation" href="../../index.html" />
    <link rel="next" title="Tutorial 2 - Saving Containers as Midi Files" href="tutorialMidiFileOut.html" />
    <link rel="prev" title="Tutorial 7 - Suite" href="tutorialSuiteModule.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="tutorialMidiFileOut.html" title="Tutorial 2 - Saving Containers as Midi Files"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="tutorialSuiteModule.html" title="Tutorial 7 - Suite"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">mingus 0.5.1 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="tutorial-1-playing-containers-with-fluidsynth">
<h1>Tutorial 1 - Playing Containers with FluidSynth<a class="headerlink" href="#tutorial-1-playing-containers-with-fluidsynth" title="Permalink to this headline">Â¶</a></h1>
<p><cite>FluidSynth</cite> is a MIDI synthesizer which uses !SoundFont (.SF2) files to generate audio. To work with this module, you&#8217;ll need the !FluidSynth library (usually packaged with the stand-alone program) and a nice instrument collection (look here: <a class="reference external" href="http://www.hammersound.net">http://www.hammersound.net</a>, go to Sounds -&gt; Soundfont Library -&gt; Collections).</p>
<p>== Importing !FluidSynth ==</p>
<p>{{{</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">mingus.midi</span> <span class="kn">import</span> <span class="n">fluidsynth</span>
</pre></div>
</div>
<p>}}}</p>
<hr class="docutils" />
<p>== Loading a !SoundFont ==</p>
<p>To load the !SoundFont and initialize !FluidSynth we&#8217;ll only have to call <cite>init</cite>.</p>
<p>{{{
&gt;&gt;&gt; fluidsynth.init(&#8220;soundfont.SF2&#8221;)
}}}</p>
<p>You can give an optional second argument to specify a driver (one of &#8216;alsa&#8217;, &#8216;oss&#8217;, &#8216;jack&#8217;, &#8216;portaudio&#8217;, &#8216;sndmgr&#8217;, &#8216;coreaudio&#8217; or &#8216;Direct Sound&#8217;), otherwise the default driver for the system will be used.</p>
<p>{{{
&gt;&gt;&gt; fluidsynth.init(&#8220;soundfont.SF2&#8221;, &#8220;alsa&#8221;)
}}}</p>
<hr class="docutils" />
<p>== Playing mingus.containers Objects ==</p>
<p>=== play_Note ===</p>
<p><cite>play_Note(note, channel = 1, velocity = 100)</cite> converts the given Note object to a midi <cite>note on</cite> command on <cite>channel</cite>. The velocity (0-127) stands for the speed with which the notes are hit. This roughly translates to volume.</p>
<p>{{{
&gt;&gt;&gt; fluidsynth.play_Note(Note(&#8220;C-5&#8221;))
True
&gt;&gt;&gt; fluidsynth.play_Note(Note(&#8220;E-5&#8221;))
True
}}}</p>
<p>The channel and velocity can be set as Note attributes as well. If that&#8217;s the case those values take presedence over the ones given here as function arguments.</p>
<p>{{{
&gt;&gt;&gt; n = Note(&#8220;C-5&#8221;)
&gt;&gt;&gt; n.channel = 5
&gt;&gt;&gt; n.velocity = 50
&gt;&gt;&gt; fluidsynth.play_Note(n)
True
}}}</p>
<p>=== stop_Note ===</p>
<p>If a playing note needs to be stopped, <cite>stop_Note(note, channel = 1)</cite> can be used.</p>
<p>{{{
&gt;&gt;&gt; fluidsynth.stop_Note(Note(&#8220;C-5&#8221;), 1)
True
}}}</p>
<p><em>Note</em> it doesn&#8217;t matter if the note is actually playing; ie. nothing will break when you try to stop a note that is already stopped.</p>
<p>=== Playing and Stopping !NoteContainers ===</p>
<p><cite>play_NoteContainer(notecontainer, channel = 1, velocity = 100)</cite> and stop_NoteContainer(notecontainer, channel = 1)` work the same as <cite>play_Note</cite> and <cite>stop_Note</cite>.</p>
<p>{{{
&gt;&gt;&gt; fluidsynth.play_NoteContainer(NoteContainer([&#8220;C&#8221;, &#8220;E&#8221;]))
True
&gt;&gt;&gt; fluidsynth.stop_NoteContainer(NoteContainer([&#8220;C&#8221;, &#8220;E&#8221;]))
True
}}}</p>
<p>=== Playing Bars, Tracks and Compositions ===</p>
<p><cite>play_Bar</cite>, <cite>play_Track</cite> and <cite>play_Composition</cite> all take three arguments. The first is the object itself, the second is the channel which defaults to 1, and the last one is the number of beats per minute which denotes tempo.</p>
<p>{{{
&gt;&gt;&gt; b = Bar()</p>
<p># Fill the Bar with NoteContainers.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">fluidsynth</span><span class="o">.</span><span class="n">play_Bar</span><span class="p">(</span><span class="n">b</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="go">}}}</span>
</pre></div>
</div>
<p><em>Note</em> You can set a <cite>bpm</cite> attribute on a NoteContainer to change the tempo. Furthermore, you can set a Track&#8217;s <cite>instrument</cite> attribute to a MidiInstrument object so that play_Track and play_Composition know which instrument to use.</p>
<hr class="docutils" />
<p>== Misc. MIDI Commands ==</p>
<p>=== Change the Instrument ===</p>
<p><cite>set_instrument(channel, instr, bank = 0)</cite> can be used to change the instrument that is being used on a channel. You can find a list of instruments by googling for <cite>midi instruments table</cite>, but you can also use the <cite>names</cite> attribute in the MidiInstrument class found in mingus.containers.Instrument.</p>
<p>{{{
&gt;&gt;&gt; fluidsynth.set_instrument(1, 14)
}}}</p>
<p>=== Panning, Modulation and Other Control Change Commands ===</p>
<p><cite>panning(channel, value)</cite> and <cite>modulation(channel, value)</cite> are shortcuts to the <cite>control_change(channel, control, value)</cite> function added for your convenience. There are more control change commands however. You can find tables by googling, but know that !FluidSynth ignores some of the commands.</p>
<hr class="docutils" />
<p>= End of Tutorial 1 =</p>
<p>You can learn more about [refMingusMidiFluidsynth mingus.midi.fluidsynth] in the reference section.</p>
<blockquote>
<div><ul class="simple">
<li>[tutorialMidiFileOut Saving Containers as Midi File]</li>
<li>[mingusIndex Back to Index]</li>
</ul>
</div></blockquote>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="tutorialSuiteModule.html"
                        title="previous chapter">Tutorial 7 - Suite</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="tutorialMidiFileOut.html"
                        title="next chapter">Tutorial 2 - Saving Containers as Midi Files</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/doc/wiki/tutorialFluidsynth.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Bart Spaans.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.4</a>
      
      |
      <a href="../../_sources/doc/wiki/tutorialFluidsynth.txt"
          rel="nofollow">Page source</a></li>
    </div>

    

    
  </body>
</html>